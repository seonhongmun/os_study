가상메모리
가상 메모리란?
가상 메모리는 물리적 메모리(RAM)의 용량 한계를 극복하기 위해, 보조기억장치를 활용해 프로세스에게 연속적이고 넓은 주소 공간을 제공하는 기술이다. 각 프로세스는 자신만의 가상 주소 공간을 가지며, 실제 물리 메모리와 1:1 매핑되지 않고 필요에 따라 동적으로 매핑된다.

가상 메모리의 장점
1. 주소 공간 분리: 프로세스 간 메모리가 보호된다.
2. 메모리 확장: 실제 RAM보다 큰 메모리 공간을 사용할 수 있다.
3. 메모리 공유 및 효율성: 동일한 코드나 데이터는 여러 프로세스 간에 공유할 수 있으며, 사용되지 않는 메모리는 디스크로 스왑(교체)하여 RAM의 효율성을 높아진다.

가상 메모리 관리 방식
1. 페이징 (Paging)
가상 주소 공간을 동일한 크기의 페이지로 나누고, 물리 메모리를 동일한 크기의 프레임(Frame)으로 나눈다.
페이지 테이블(Page Table): 각 가상 페이지 번호(VPN)를 해당 물리 프레임 번호(PFN)와 매핑하는 자료구조다.

주소 변환 과정
가상 주소는 VPN(페이지 번호)과 오프셋(offset)으로 구성된다.
MMU(Memory Management Unit)가 페이지 테이블을 참조하여 가상 주소를 물리 주소로 변환한다.

TLB (Translation Lookaside Buffer)
자주 사용되는 페이지 테이블 엔트리를 캐싱하여 주소 변환 속도를 높힌다.

페이지 폴트 (Page Fault)
요청한 페이지가 물리 메모리에 없는 경우, 페이지 폴트가 발생하여 OS가 디스크(스왑 영역)에서 해당 페이지를 로드한 후 페이지 테이블을 갱신한다.

2. 세그멘테이션 (Segmentation)
가상 주소 공간을 논리적 단위(코드, 데이터, 스택 등)로 분할하여 관리한다.
각 세그먼트는 시작 주소(Base)와 길이(Limit)를 가지고 있으며, 프로세스마다 다양한 크기의 세그먼트를 가질 수 있다.

장점 및 단점
장점: 프로그램의 논리적 구분에 따른 메모리 보호 및 공유가 용이하다.
단점: 외부 단편화(External Fragmentation) 문제가 발생할 수 있다.

가상 메모리 관리의 실제 동작
수요 페이징(Demand Paging) : 프로세스 실행 시 필요한 페이지만 메모리에 로드하며, 사용되지 않는 페이지는 디스크에 남긴다.
스왑(Swapping) : 메모리가 부족할 경우, 전체 프로세스나 일부 페이지를 보조기억장치로 옮기는 작업을 수행한다.
페이지 교체 정책 : OS는 여러 알고리즘(LRU, FIFO, Clock 등)을 활용해 최적의 페이지 교체 결정을 내리며, 문맥 전환 및 페이지 폴트 처리로 인한 오버헤드를 최소화시키려고 한다.